<p-toast>
</p-toast>

<div class="container">
  <section class="breadcrumb-section set-bg" [ngStyle]="{backgroundImage:'url(assets/image/breadcrumb.jpg'}">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <div class="breadcrumb__text">
            <h2>Danh Mục</h2>
            <div class="breadcrumb__option">
              <a routerLink="/">Trang chủ</a>
              <span>Danh Mục</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
<section class="product spad">
  <div class="container">
    <div class="row">
      <div class="col-lg-3 col-md-5">
        <div class="sidebar">
          <div class="sidebar__item">
            <h4>Danh Mục</h4>
            <ul>
              <li><a routerLink="/category/{{category.id}}" *ngFor="let category of listCategory">{{category.name}}</a>
              </li>

            </ul>
          </div>
          <div class="sidebar__item">
            <div class="latest-product__text">
              <h4>Sản Phẩm Mới</h4>
              <div class="latest-product__slider">
                <div class="latest-prdouct__slider__item">
                  <a href="#" class="latest-product__item" *ngFor="let product of listProductNewest">
                    <div class="latest-product__item__pic">
                      <img src="{{'data:image/jpg;base64,' + product.images[0].data}}" alt="">
                    </div>
                    <div class="latest-product__item__text">
                      <h6><b><a
                        href="javascript:void(0)">{{ product.name.length > 25 ? product.name.slice(0, 25) + '...' : product.name }}</a></b>
                      </h6>
                      <div style="display: inline-block;">
                        <h5 class="red-text"
                            style="display: inline-block; margin-right: 10px;">{{ product.price | currency:'VND'}}</h5>
                        <p style="display: inline-block;">Đã bán {{ product.quantitybuy }}</p>
                      </div>
                    </div>

                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-9">
        <div class="row">
          <div class="col-lg-3">
            <p-dropdown
              [options]="capacityOptions"
              [(ngModel)]="selectedCapacity"
              placeholder="Dung lượng"
              [showClear]="true"
              optionLabel="name">
            </p-dropdown>
          </div>
          <div class="col-lg-3">
            <p-dropdown
              [options]="priceOptions"
              [(ngModel)]="selectedPrice"
              placeholder="Giá bán"
              [showClear]="true"
              optionLabel="label">
            </p-dropdown>
          </div>
          <div class="col-lg-4">
            <p-dropdown
              [options]="orderPriceOptions"
              [(ngModel)]="selectedOrderPrice"
              placeholder="Sắp xếp theo giá"
              [showClear]="true"
              optionLabel="label">
            </p-dropdown>
          </div>
          <div class="col-lg-2 flex ">
            <button class="btn btn-primary" (click)="handleFilter()">Áp dụng</button>
          </div>
        </div>
        <div class="row">
          <p-dataView [value]="listProduct" [paginator]="true" [rows]="9">
            <ng-template let-product pTemplate="listItem">
              <div class="col-lg-4 col-md-5 col-sm-6 px-2">
                <div class="featured__item">
                  <div class="featured__item__pic set-bg"
                       [ngStyle]="{'background-image': 'url(data:image/jpeg;base64,'+ product.images[0].data+')'}"
                       routerLink="/product/{{product.id}}">
                    <ul class="featured__item__pic__hover">
                      <li>
                        <a href="javascript:void(0)" (click)="addToWishList(product)">
                          <fa-icon [icon]="heart"></fa-icon>
                        </a>
                      </li>
                      <li>
                        <a href="javascript:void(0)" routerLink="/product/{{product.id}}">
                          <fa-icon [icon]="retweet"></fa-icon>
                        </a>
                      </li>
                      <li>
                        <a href="javascript:void(0)" (click)="addToCart(product)">
                          <fa-icon [icon]="bag"></fa-icon>
                        </a>
                      </li>
                    </ul>
                  </div>
                  <div class="featured__item__text">
                    <h6><b><a
                      href="javascript:void(0)">{{ product.name.length > 25 ? product.name.slice(0, 25) + '...' : product.name }}</a></b>
                    </h6>
                    <div style="display: inline-block;">
                      <h5 class="red-text"
                          style="display: inline-block; margin-right: 10px;">{{ product.price | currency:'VND'}}</h5>
                      <p style="display: inline-block;">Đã bán {{ product.quantitybuy }}</p>
                    </div>
                  </div>
                </div>
              </div>
            </ng-template>
          </p-dataView>

        </div>
      </div>
    </div>
  </div>
</section>
<app-bubble/>
